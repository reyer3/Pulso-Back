# ========================================
# yoyo-migrations configuration for SSH tunnel
# ========================================

[DEFAULT]
# Directory containing migration files
sources = migrations

# Database connection URL via SSH tunnel
# IMPORTANT: Update with your actual PostgreSQL credentials
database = postgresql://postgres:YOUR_PASSWORD@localhost:5432/postgres

# Migration behavior
batch_mode = off
verbosity = 1

# Connection timeout settings for remote connections
# migration_table = _yoyo_migration

# ========================================
# Instructions for SSH Tunnel Setup:
# 
# 1. Make sure your SSH tunnel is running:
#    autossh -M 0 -f -N -L 5432:localhost:5432 usuario@host_remoto
#
# 2. Update the database URL above with your actual:
#    - PostgreSQL username (replace 'postgres')
#    - PostgreSQL password (replace 'YOUR_PASSWORD')
#
# 3. Test connection first:
#    psql -h localhost -p 5432 -U postgres -c "SELECT version();"
#
# 4. Then run migrations:
#    yoyo apply
# ========================================
